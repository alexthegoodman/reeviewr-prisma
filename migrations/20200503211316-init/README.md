# Migration `20200503211316-init`

This migration has been generated by Alex Woodman at 5/3/2020, 9:13:17 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."User" (
"confirmHash" text  NOT NULL ,"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"forgotHash" text  NOT NULL ,"id" text  NOT NULL ,"privateHash" text  NOT NULL ,"publicHash" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,"userConfirmed" integer  NOT NULL ,"userDeleted" boolean  NOT NULL DEFAULT false,"userEmail" text  NOT NULL ,"userPassword" text  NOT NULL ,"userType" integer  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."UserMeta" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"metaDeleted" boolean  NOT NULL DEFAULT false,"metaName" text  NOT NULL ,"metaType" text  NOT NULL ,"metaValue" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,"userId" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Space" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"itemContent" text  NOT NULL ,"itemDeleted" boolean  NOT NULL DEFAULT false,"itemName" text  NOT NULL ,"itemStatus" text  NOT NULL ,"itemType" text  NOT NULL ,"itemUrlSegment" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,"userId" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."SpaceMeta" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"metaDeleted" boolean  NOT NULL DEFAULT false,"metaName" text  NOT NULL ,"metaType" text  NOT NULL ,"metaValue" text  NOT NULL ,"spaceId" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Post" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"itemContent" text  NOT NULL ,"itemDeleted" boolean  NOT NULL DEFAULT false,"itemMimeType" text  NOT NULL ,"itemName" text  NOT NULL ,"itemStatus" text  NOT NULL ,"itemType" text  NOT NULL ,"itemUrlSegment" text  NOT NULL ,"spaceId" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,"userId" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."PostMeta" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"metaDeleted" boolean  NOT NULL DEFAULT false,"metaName" text  NOT NULL ,"metaType" text  NOT NULL ,"metaValue" text  NOT NULL ,"postId" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Review" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"itemContent" text  NOT NULL ,"itemDeleted" boolean  NOT NULL DEFAULT false,"itemMimeType" text  NOT NULL ,"itemName" text  NOT NULL ,"itemStatus" text  NOT NULL ,"itemType" text  NOT NULL ,"itemUrlSegment" text  NOT NULL ,"postId" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,"userId" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."ReviewMeta" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"metaDeleted" boolean  NOT NULL DEFAULT false,"metaName" text  NOT NULL ,"metaType" text  NOT NULL ,"metaValue" text  NOT NULL ,"reviewId" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Annotation" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"itemContent" text  NOT NULL ,"itemDeleted" boolean  NOT NULL DEFAULT false,"itemMimeType" text  NOT NULL ,"itemName" text  NOT NULL ,"itemStatus" text  NOT NULL ,"itemType" text  NOT NULL ,"itemUrlSegment" text  NOT NULL ,"postId" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,"userId" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."AnnotationMeta" (
"annotationId" text  NOT NULL ,"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"metaDeleted" boolean  NOT NULL DEFAULT false,"metaName" text  NOT NULL ,"metaType" text  NOT NULL ,"metaValue" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Question" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"itemContent" text  NOT NULL ,"itemDeleted" boolean  NOT NULL DEFAULT false,"itemMimeType" text  NOT NULL ,"itemName" text  NOT NULL ,"itemStatus" text  NOT NULL ,"itemType" text  NOT NULL ,"itemUrlSegment" text  NOT NULL ,"postId" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,"userId" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."QuestionMeta" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"metaDeleted" boolean  NOT NULL DEFAULT false,"metaName" text  NOT NULL ,"metaType" text  NOT NULL ,"metaValue" text  NOT NULL ,"questionId" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Thread" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"itemContent" text  NOT NULL ,"itemDeleted" boolean  NOT NULL DEFAULT false,"itemName" text  NOT NULL ,"itemStatus" text  NOT NULL ,"itemType" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."ThreadMeta" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"metaDeleted" boolean  NOT NULL DEFAULT false,"metaName" text  NOT NULL ,"metaType" text  NOT NULL ,"metaValue" text  NOT NULL ,"threadId" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Message" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"itemContent" text  NOT NULL ,"itemDeleted" boolean  NOT NULL DEFAULT false,"itemName" text  NOT NULL ,"itemStatus" text  NOT NULL ,"itemType" text  NOT NULL ,"threadId" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,"userId" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."MessageMeta" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"messageId" text  NOT NULL ,"metaDeleted" boolean  NOT NULL DEFAULT false,"metaName" text  NOT NULL ,"metaType" text  NOT NULL ,"metaValue" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Notification" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"itemContent" text  NOT NULL ,"itemDeleted" boolean  NOT NULL DEFAULT false,"itemName" text  NOT NULL ,"itemStatus" text  NOT NULL ,"itemType" text  NOT NULL ,"postId" text  NOT NULL ,"receiverId" text  NOT NULL ,"senderId" text  NOT NULL ,"spaceId" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,"userId" text   ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."NotificationMeta" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"metaDeleted" boolean  NOT NULL DEFAULT false,"metaName" text  NOT NULL ,"metaType" text  NOT NULL ,"metaValue" text  NOT NULL ,"notificationId" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Favorite" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"itemContent" text  NOT NULL ,"itemName" text  NOT NULL ,"itemStatus" text  NOT NULL ,"itemType" text  NOT NULL ,"postId" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,"userId" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Tag" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"itemContent" text  NOT NULL ,"itemName" text  NOT NULL ,"itemStatus" text  NOT NULL ,"itemType" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Category" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" text  NOT NULL ,"itemContent" text  NOT NULL ,"itemName" text  NOT NULL ,"itemStatus" text  NOT NULL ,"itemType" text  NOT NULL ,"updatedAt" timestamp(3)  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."_JoinSpaceRelation" (
"A" text  NOT NULL ,"B" text  NOT NULL )

CREATE TABLE "public"."_ThreadUserRelation" (
"A" text  NOT NULL ,"B" text  NOT NULL )

CREATE TABLE "public"."_FollowerRelation" (
"A" text  NOT NULL ,"B" text  NOT NULL )

CREATE TABLE "public"."_SpaceCategoriesRelation" (
"A" text  NOT NULL ,"B" text  NOT NULL )

CREATE TABLE "public"."_PostTagRelation" (
"A" text  NOT NULL ,"B" text  NOT NULL )

CREATE UNIQUE INDEX "User.userEmail" ON "public"."User"("userEmail")

CREATE UNIQUE INDEX "User.publicHash" ON "public"."User"("publicHash")

CREATE UNIQUE INDEX "User.privateHash" ON "public"."User"("privateHash")

CREATE UNIQUE INDEX "User.confirmHash" ON "public"."User"("confirmHash")

CREATE UNIQUE INDEX "User.forgotHash" ON "public"."User"("forgotHash")

CREATE UNIQUE INDEX "_JoinSpaceRelation_AB_unique" ON "public"."_JoinSpaceRelation"("A","B")

CREATE  INDEX "_JoinSpaceRelation_B_index" ON "public"."_JoinSpaceRelation"("B")

CREATE UNIQUE INDEX "_ThreadUserRelation_AB_unique" ON "public"."_ThreadUserRelation"("A","B")

CREATE  INDEX "_ThreadUserRelation_B_index" ON "public"."_ThreadUserRelation"("B")

CREATE UNIQUE INDEX "_FollowerRelation_AB_unique" ON "public"."_FollowerRelation"("A","B")

CREATE  INDEX "_FollowerRelation_B_index" ON "public"."_FollowerRelation"("B")

CREATE UNIQUE INDEX "_SpaceCategoriesRelation_AB_unique" ON "public"."_SpaceCategoriesRelation"("A","B")

CREATE  INDEX "_SpaceCategoriesRelation_B_index" ON "public"."_SpaceCategoriesRelation"("B")

CREATE UNIQUE INDEX "_PostTagRelation_AB_unique" ON "public"."_PostTagRelation"("A","B")

CREATE  INDEX "_PostTagRelation_B_index" ON "public"."_PostTagRelation"("B")

ALTER TABLE "public"."UserMeta" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Space" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."SpaceMeta" ADD FOREIGN KEY ("spaceId")REFERENCES "public"."Space"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Post" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Post" ADD FOREIGN KEY ("spaceId")REFERENCES "public"."Space"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."PostMeta" ADD FOREIGN KEY ("postId")REFERENCES "public"."Post"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Review" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Review" ADD FOREIGN KEY ("postId")REFERENCES "public"."Post"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."ReviewMeta" ADD FOREIGN KEY ("reviewId")REFERENCES "public"."Review"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Annotation" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Annotation" ADD FOREIGN KEY ("postId")REFERENCES "public"."Post"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."AnnotationMeta" ADD FOREIGN KEY ("annotationId")REFERENCES "public"."Annotation"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Question" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Question" ADD FOREIGN KEY ("postId")REFERENCES "public"."Post"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."QuestionMeta" ADD FOREIGN KEY ("questionId")REFERENCES "public"."Question"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."ThreadMeta" ADD FOREIGN KEY ("threadId")REFERENCES "public"."Thread"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Message" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Message" ADD FOREIGN KEY ("threadId")REFERENCES "public"."Thread"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."MessageMeta" ADD FOREIGN KEY ("messageId")REFERENCES "public"."Message"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Notification" ADD FOREIGN KEY ("senderId")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Notification" ADD FOREIGN KEY ("receiverId")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Notification" ADD FOREIGN KEY ("spaceId")REFERENCES "public"."Space"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Notification" ADD FOREIGN KEY ("postId")REFERENCES "public"."Post"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Notification" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE SET NULL  ON UPDATE CASCADE

ALTER TABLE "public"."NotificationMeta" ADD FOREIGN KEY ("notificationId")REFERENCES "public"."Notification"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Favorite" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Favorite" ADD FOREIGN KEY ("postId")REFERENCES "public"."Post"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_JoinSpaceRelation" ADD FOREIGN KEY ("A")REFERENCES "public"."Space"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_JoinSpaceRelation" ADD FOREIGN KEY ("B")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_ThreadUserRelation" ADD FOREIGN KEY ("A")REFERENCES "public"."Thread"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_ThreadUserRelation" ADD FOREIGN KEY ("B")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_FollowerRelation" ADD FOREIGN KEY ("A")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_FollowerRelation" ADD FOREIGN KEY ("B")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_SpaceCategoriesRelation" ADD FOREIGN KEY ("A")REFERENCES "public"."Category"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_SpaceCategoriesRelation" ADD FOREIGN KEY ("B")REFERENCES "public"."Space"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_PostTagRelation" ADD FOREIGN KEY ("A")REFERENCES "public"."Post"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_PostTagRelation" ADD FOREIGN KEY ("B")REFERENCES "public"."Tag"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200503211316-init
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,333 @@
+datasource db {
+  provider = "postgresql"
+  url      = env("DATABASE_URL")
+}
+
+// output   = "./__generated__/prisma-client/"
+generator client {
+  provider      = "prisma-client-js"
+  binaryTargets = ["native", "darwin"]
+}
+
+model User {
+  id                    String         @default(cuid()) @id
+  userType              Int
+  userEmail             String         @unique
+  userPassword          String
+  publicHash            String         @unique
+  privateHash           String         @unique
+  confirmHash           String         @unique
+  forgotHash            String         @unique
+  userConfirmed         Int
+  userDeleted           Boolean        @default(false)
+  userMeta              UserMeta[]     @relation("UserMetaRelation")
+  posts                 Post[]         @relation("UserPostRelation")
+  spaces                Space[]        @relation("CreateSpaceRelation")
+  memberOf              Space[]        @relation("JoinSpaceRelation", references: [id])
+  favorites             Favorite[]     @relation("UserFavoriteRelation")
+  reviews               Review[]       @relation("UserReviewRelation")
+  annotations           Annotation[]   @relation("UserAnnotationRelation")
+  questions             Question[]     @relation("UserQuestionRelation")
+  threads               Thread[]       @relation("ThreadUserRelation", references: [id])
+  following             User[]         @relation("FollowerRelation", references: [id])
+  followers             User[]         @relation("FollowerRelation", references: [id])
+  notifications         Notification[] @relation("NotificationRelation")
+  sentNotifications     Notification[] @relation("SendingUserRelation")
+  recievedNotifications Notification[] @relation("ReceivingUserRelation")
+  createdAt             DateTime       @default(now())
+  updatedAt             DateTime       @updatedAt
+  Message               Message[]      @relation("UserMessageRelation")
+}
+
+model UserMeta {
+  id          String   @default(cuid()) @id
+  user        User     @relation("UserMetaRelation", fields: [userId], references: [id])
+  userId      String
+  metaType    String
+  metaName    String
+  metaValue   String
+  metaDeleted Boolean  @default(false)
+  createdAt   DateTime @default(now())
+  updatedAt   DateTime @updatedAt
+}
+
+model Space {
+  id             String         @default(cuid()) @id
+  user           User           @relation("CreateSpaceRelation", fields: [userId], references: [id])
+  userId         String
+  members        User[]         @relation("JoinSpaceRelation", references: [id])
+  itemType       String
+  itemStatus     String
+  itemUrlSegment String
+  itemName       String
+  itemContent    String
+  itemDeleted    Boolean        @default(false)
+  itemMeta       SpaceMeta[]    @relation("SpaceMetaRelation")
+  posts          Post[]         @relation("SpacePostsRelation")
+  categories     Category[]     @relation("SpaceCategoriesRelation")
+  createdAt      DateTime       @default(now())
+  updatedAt      DateTime       @updatedAt
+  Notification   Notification[] @relation("SpaceNotificationRelation")
+}
+
+model SpaceMeta {
+  id          String   @default(cuid()) @id
+  space       Space    @relation("SpaceMetaRelation", fields: [spaceId], references: [id])
+  spaceId     String
+  metaType    String
+  metaName    String
+  metaValue   String
+  metaDeleted Boolean  @default(false)
+  createdAt   DateTime @default(now())
+  updatedAt   DateTime @updatedAt
+}
+
+model Post {
+  id             String         @default(cuid()) @id
+  user           User           @relation("UserPostRelation", fields: [userId], references: [id])
+  userId         String
+  space          Space          @relation("SpacePostsRelation", fields: [spaceId], references: [id])
+  spaceId        String
+  itemType       String
+  itemStatus     String
+  itemUrlSegment String
+  itemMimeType   String
+  itemName       String
+  itemContent    String
+  itemDeleted    Boolean        @default(false)
+  itemMeta       PostMeta[]     @relation("PostMetaRelation")
+  tags           Tag[]          @relation("PostTagRelation")
+  favorites      Favorite[]     @relation("PostFavoriteRelation")
+  reviews        Review[]       @relation("PostReviewRelation")
+  annotations    Annotation[]   @relation("PostAnnotationRelation")
+  questions      Question[]     @relation("PostQuestionRelation")
+  createdAt      DateTime       @default(now())
+  updatedAt      DateTime       @updatedAt
+  Notification   Notification[] @relation("PostNotificationRelation")
+}
+
+model PostMeta {
+  id          String   @default(cuid()) @id
+  post        Post     @relation("PostMetaRelation", fields: [postId], references: [id])
+  postId      String
+  metaType    String
+  metaName    String
+  metaValue   String
+  metaDeleted Boolean  @default(false)
+  createdAt   DateTime @default(now())
+  updatedAt   DateTime @updatedAt
+}
+
+model Review {
+  id             String       @default(cuid()) @id
+  user           User         @relation("UserReviewRelation", fields: [userId], references: [id])
+  userId         String
+  itemType       String
+  itemStatus     String
+  itemUrlSegment String
+  itemMimeType   String
+  itemName       String
+  itemContent    String
+  itemDeleted    Boolean      @default(false)
+  itemMeta       ReviewMeta[] @relation("ReviewMetaRelation")
+  post           Post         @relation("PostReviewRelation", fields: [postId], references: [id])
+  postId         String
+  createdAt      DateTime     @default(now())
+  updatedAt      DateTime     @updatedAt
+}
+
+model ReviewMeta {
+  id          String   @default(cuid()) @id
+  review      Review   @relation("ReviewMetaRelation", fields: [reviewId], references: [id])
+  reviewId    String
+  metaType    String
+  metaName    String
+  metaValue   String
+  metaDeleted Boolean  @default(false)
+  createdAt   DateTime @default(now())
+  updatedAt   DateTime @updatedAt
+}
+
+model Annotation {
+  id             String           @default(cuid()) @id
+  user           User             @relation("UserAnnotationRelation", fields: [userId], references: [id])
+  userId         String
+  itemType       String
+  itemStatus     String
+  itemUrlSegment String
+  itemMimeType   String
+  itemName       String
+  itemContent    String
+  itemDeleted    Boolean          @default(false)
+  itemMeta       AnnotationMeta[] @relation("AnnotationMetaRelation")
+  post           Post             @relation("PostAnnotationRelation", fields: [postId], references: [id])
+  postId         String
+  createdAt      DateTime         @default(now())
+  updatedAt      DateTime         @updatedAt
+}
+
+model AnnotationMeta {
+  id           String     @default(cuid()) @id
+  annotation   Annotation @relation("AnnotationMetaRelation", fields: [annotationId], references: [id])
+  annotationId String
+  metaType     String
+  metaName     String
+  metaValue    String
+  metaDeleted  Boolean    @default(false)
+  createdAt    DateTime   @default(now())
+  updatedAt    DateTime   @updatedAt
+}
+
+model Question {
+  id             String         @default(cuid()) @id
+  user           User           @relation("UserQuestionRelation", fields: [userId], references: [id])
+  userId         String
+  itemType       String
+  itemStatus     String
+  itemUrlSegment String
+  itemMimeType   String
+  itemName       String
+  itemContent    String
+  itemDeleted    Boolean        @default(false)
+  itemMeta       QuestionMeta[] @relation("QuestionMetaRelation")
+  post           Post           @relation("PostQuestionRelation", fields: [postId], references: [id])
+  postId         String
+  createdAt      DateTime       @default(now())
+  updatedAt      DateTime       @updatedAt
+}
+
+model QuestionMeta {
+  id          String   @default(cuid()) @id
+  question    Question @relation("QuestionMetaRelation", fields: [questionId], references: [id])
+  questionId  String
+  metaType    String
+  metaName    String
+  metaValue   String
+  metaDeleted Boolean  @default(false)
+  createdAt   DateTime @default(now())
+  updatedAt   DateTime @updatedAt
+}
+
+model Thread {
+  id           String       @default(cuid()) @id
+  itemType     String
+  itemStatus   String
+  itemName     String
+  itemContent  String
+  itemDeleted  Boolean      @default(false)
+  itemMeta     ThreadMeta[] @relation("ThreadMetaRelation")
+  messages     Message[]    @relation("ThreadMessageRelation")
+  participants User[]       @relation("ThreadUserRelation", references: [id])
+  createdAt    DateTime     @default(now())
+  updatedAt    DateTime     @updatedAt
+}
+
+model ThreadMeta {
+  id          String   @default(cuid()) @id
+  thread      Thread   @relation("ThreadMetaRelation", fields: [threadId], references: [id])
+  threadId    String
+  metaType    String
+  metaName    String
+  metaValue   String
+  metaDeleted Boolean  @default(false)
+  createdAt   DateTime @default(now())
+  updatedAt   DateTime @updatedAt
+}
+
+model Message {
+  id          String        @default(cuid()) @id
+  user        User          @relation("UserMessageRelation", fields: [userId], references: [id])
+  userId      String
+  itemType    String
+  itemStatus  String
+  itemName    String
+  itemContent String
+  itemDeleted Boolean       @default(false)
+  itemMeta    MessageMeta[] @relation("MessageMetaRelation")
+  thread      Thread        @relation("ThreadMessageRelation", fields: [threadId], references: [id])
+  threadId    String
+  createdAt   DateTime      @default(now())
+  updatedAt   DateTime      @updatedAt
+}
+
+model MessageMeta {
+  id          String   @default(cuid()) @id
+  message     Message  @relation("MessageMetaRelation", fields: [messageId], references: [id])
+  messageId   String
+  metaType    String
+  metaName    String
+  metaValue   String
+  metaDeleted Boolean  @default(false)
+  createdAt   DateTime @default(now())
+  updatedAt   DateTime @updatedAt
+}
+
+model Notification {
+  id          String             @default(cuid()) @id
+  itemType    String
+  itemStatus  String
+  itemName    String
+  itemContent String
+  itemDeleted Boolean            @default(false)
+  itemMeta    NotificationMeta[] @relation("NotificationMetaRelation")
+  sender      User               @relation("SendingUserRelation", fields: [senderId], references: [id])
+  senderId    String
+  receiver    User               @relation("ReceivingUserRelation", fields: [receiverId], references: [id])
+  receiverId  String
+  space       Space              @relation("SpaceNotificationRelation", fields: [spaceId], references: [id])
+  spaceId     String
+  post        Post               @relation("PostNotificationRelation", fields: [postId], references: [id])
+  postId      String
+  createdAt   DateTime           @default(now())
+  updatedAt   DateTime           @updatedAt
+  userId      String?
+  User        User?              @relation("NotificationRelation", fields: [userId], references: [id])
+}
+
+model NotificationMeta {
+  id             String       @default(cuid()) @id
+  notification   Notification @relation("NotificationMetaRelation", fields: [notificationId], references: [id])
+  notificationId String
+  metaType       String
+  metaName       String
+  metaValue      String
+  metaDeleted    Boolean      @default(false)
+  createdAt      DateTime     @default(now())
+  updatedAt      DateTime     @updatedAt
+}
+
+model Favorite {
+  id          String   @default(cuid()) @id
+  user        User     @relation("UserFavoriteRelation", fields: [userId], references: [id])
+  userId      String
+  itemType    String
+  itemStatus  String
+  itemName    String
+  itemContent String
+  post        Post     @relation("PostFavoriteRelation", fields: [postId], references: [id])
+  postId      String
+  createdAt   DateTime @default(now())
+  updatedAt   DateTime @updatedAt
+}
+
+model Tag {
+  id          String   @default(cuid()) @id
+  itemType    String
+  itemStatus  String
+  itemName    String
+  itemContent String
+  posts       Post[]   @relation("PostTagRelation", references: [id])
+  createdAt   DateTime @default(now())
+  updatedAt   DateTime @updatedAt
+}
+
+model Category {
+  id          String   @default(cuid()) @id
+  itemType    String
+  itemStatus  String
+  itemName    String
+  itemContent String
+  spaces      Space[]  @relation("SpaceCategoriesRelation", references: [id])
+  createdAt   DateTime @default(now())
+  updatedAt   DateTime @updatedAt
+}
```


